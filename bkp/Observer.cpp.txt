/**
 * Observer.cpp
 *
 *  Created on: Apr 2, 2012
 *      Author: rbianchi@cern.ch  (Riccardo-Maria BIANCHI)
 */

#include "Observer.h"

void Publisher::notify(void* what, Subscriber* s)
{
   if (notifyEnabled)
   {
      std::list<Subscriber*>::iterator p;
      for(p = subscribers.begin(); p != subscribers.end(); p++)
         if (*p != s) (*p)->update(this, what);
   }

   // we set 'notify' to True by default at the end of each notify operation
   notifyEnabled = true;
}
